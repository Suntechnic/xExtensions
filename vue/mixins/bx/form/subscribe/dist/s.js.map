{"version":3,"file":"s.js","sources":["../src/subscribe.js"],"sourcesContent":["import {MixinBxApi} from 'x.vue.mixins.bx.api';\n\nexport const MixinBxFormSubscribe = {\n    mixins: [MixinBxApi],\n\tprops: {\n        email: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n            default: ''\n\t\t},\n        apiPoints: {\n\t\t\trequired: true,\n            default: {add: 'subscribe/add'}\n\t\t}\n\t},\n\tdata ()\n\t{\n\t\treturn {\n\t\t\tform: {\n\t\t\t\temail: ''\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n        \n    },\n    created()\n\t{\n\t\tthis.form.email = this.email;\n\t},\n\tmethods: {\n        success (response) {\n            response = JSON.parse(response);\n            console.log(response);\n        },\n        fail (response) {\n            response = JSON.parse(response);\n            console.log(response);\n        },\n\t\tsave ()\n\t\t{\n            let data = {\n                    email: this.form.email,\n                    sessid: BX.bitrix_sessid()\n                };\n\n                let vm = this;\n\n\t\t\t\tBX.ajax.post(\n                        this.apiPointsUrl.add, //'/api/v1/subscribe/add',\n                        data,\n                        this.success,\n                        this.fail\n                    );\n                    \n\t\t}\n\t}\n}\n"],"names":["MixinBxFormSubscribe","mixins","MixinBxApi","props","email","type","String","required","apiPoints","add","data","form","computed","created","methods","success","response","JSON","parse","console","log","fail","save","sessid","BX","bitrix_sessid","ajax","post","apiPointsUrl"],"mappings":";;;;;;;QAEaA,oBAAoB,GAAG;MAChCC,MAAM,EAAE,CAACC,8BAAU,CAAC;MACvBC,KAAK,EAAE;QACAC,KAAK,EAAE;UACZC,IAAI,EAAEC,MAAM;UACZC,QAAQ,EAAE,IAAI;UACL,WAAS;SAClB;QACKC,SAAS,EAAE;UAChBD,QAAQ,EAAE,IAAI;UACL,WAAS;YAACE,GAAG,EAAE;;;OAEzB;MACDC,IAAI,kBACJ;QACC,OAAO;UACNC,IAAI,EAAE;YACLP,KAAK,EAAE;;SAER;OACD;MACDQ,QAAQ,EAAE,EAEN;MACDC,OAAO,qBACV;QACC,IAAI,CAACF,IAAI,CAACP,KAAK,GAAG,IAAI,CAACA,KAAK;OAC5B;MACDU,OAAO,EAAE;QACFC,OAAO,mBAAEC,QAAQ,EAAE;UACfA,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACF,QAAQ,CAAC;UAC/BG,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAAC;SACxB;QACDK,IAAI,gBAAEL,QAAQ,EAAE;UACZA,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACF,QAAQ,CAAC;UAC/BG,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAAC;SACxB;QACPM,IAAI,kBACJ;UACU,IAAIZ,IAAI,GAAG;YACHN,KAAK,EAAE,IAAI,CAACO,IAAI,CAACP,KAAK;YACtBmB,MAAM,EAAEC,EAAE,CAACC,aAAa;WAC3B;UAIbD,EAAE,CAACE,IAAI,CAACC,IAAI,CACQ,IAAI,CAACC,YAAY,CAACnB,GAAG;;UACrBC,IAAI,EACJ,IAAI,CAACK,OAAO,EACZ,IAAI,CAACM,IAAI,CACZ;;;IAIrB,CAAC;;;;;;;;"}