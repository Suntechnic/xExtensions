{"version":3,"file":"s.js","sources":["../src/x-vue-loader.js"],"sourcesContent":["'use strict'\nBX.ready(function(){\n    // функция инициализации\n    let initVue = (node) => {\n            console.log('initVue', node);\n            \n            node = node || document\n            node.querySelectorAll('[vue]').forEach((elm) => {\n                    let datasetAttrs = '';\n                    for (let name in elm.dataset) {\n                        datasetAttrs = datasetAttrs+' '+name+'=\"'+elm.dataset[name]+'\"';\n                    }\n                    let template = '<'+elm.getAttribute('vue')+datasetAttrs+'/>';\n                    \n                    if (typeof APP == 'object' && (APP?.config?.debug > 2)) console.log(\n                            'load vue component',\n                            elm.getAttribute('vue'),\n                            elm.dataset\n                        );\n                    \n                    BX.BitrixVue.createApp({\n                            el: elm,\n                            template: template\n                        });\n                })\n        };\n    \n    // инициализация компонентов\n    initVue();\n    \n    // внутреннее событие перестройки DOM\n    BX.addCustomEvent('x.vue.loader:initVue' , initVue); //BX.onCustomEvent('x.vue.loader:initVue');\n    \n    // поддержка композита\n    if (window.frameCacheVars !== undefined) {\n        BX.addCustomEvent('onFrameDataReceived' , initVue);\n    }\n});\n"],"names":["BX","ready","initVue","node","console","log","document","querySelectorAll","forEach","elm","datasetAttrs","name","dataset","template","getAttribute","APP","config","debug","BitrixVue","createApp","el","addCustomEvent","window","frameCacheVars","undefined"],"mappings":";;;;;IACAA,EAAE,CAACC,KAAH,CAAS,YAAU;;MAEf,IAAIC,OAAO,GAAG,SAAVA,OAAU,CAACC,IAAD,EAAU;QAChBC,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,IAAvB;QAEAA,IAAI,GAAGA,IAAI,IAAIG,QAAf;QACAH,IAAI,CAACI,gBAAL,CAAsB,OAAtB,EAA+BC,OAA/B,CAAuC,UAACC,GAAD,EAAS;UAAA;;UACxC,IAAIC,YAAY,GAAG,EAAnB;;UACA,KAAK,IAAIC,IAAT,IAAiBF,GAAG,CAACG,OAArB,EAA8B;YAC1BF,YAAY,GAAGA,YAAY,GAAC,GAAb,GAAiBC,IAAjB,GAAsB,IAAtB,GAA2BF,GAAG,CAACG,OAAJ,CAAYD,IAAZ,CAA3B,GAA6C,GAA5D;;;UAEJ,IAAIE,QAAQ,GAAG,MAAIJ,GAAG,CAACK,YAAJ,CAAiB,KAAjB,CAAJ,GAA4BJ,YAA5B,GAAyC,IAAxD;UAEA,IAAI,QAAOK,GAAP,wDAAOA,GAAP,MAAc,QAAd,IAA2B,SAAAA,GAAG,UAAH,mDAAKC,MAAL,4DAAaC,KAAb,IAAqB,CAApD,EAAwDb,OAAO,CAACC,GAAR,CAChD,oBADgD,EAEhDI,GAAG,CAACK,YAAJ,CAAiB,KAAjB,CAFgD,EAGhDL,GAAG,CAACG,OAH4C;UAMxDZ,EAAE,CAACkB,SAAH,CAAaC,SAAb,CAAuB;YACfC,EAAE,EAAEX,GADW;YAEfI,QAAQ,EAAEA;WAFlB;SAbR;OAJR,CAFe;;;MA2BfX,OAAO,GA3BQ;;MA8BfF,EAAE,CAACqB,cAAH,CAAkB,sBAAlB,EAA2CnB,OAA3C,EA9Be;;;MAiCf,IAAIoB,MAAM,CAACC,cAAP,KAA0BC,SAA9B,EAAyC;QACrCxB,EAAE,CAACqB,cAAH,CAAkB,qBAAlB,EAA0CnB,OAA1C;;IAEP,CApCD;;;;"}