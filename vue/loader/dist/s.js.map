{"version":3,"file":"s.js","sources":["../src/x-vue-loader.js"],"sourcesContent":["'use strict'\nBX.ready(function(){\n    // функция инициализации\n    let initVue = (node) => {\n            console.log('initVue', node);\n            \n            node = node || document\n            node.querySelectorAll('[vue]').forEach((elm) => {\n                    let datasetAttrs = '';\n                    for (let name in elm.dataset) {\n                        datasetAttrs = datasetAttrs+' '+name+'=\"'+elm.dataset[name]+'\"';\n                    }\n                    let template = '<'+elm.getAttribute('vue')+datasetAttrs+'/>';\n                    \n                    if (typeof APP == 'object' && (APP?.config?.debug > 2)) console.log(\n                            'load vue component',\n                            elm.getAttribute('vue'),\n                            elm.dataset\n                        );\n                    \n                    BX.BitrixVue.createApp({\n                            el: elm,\n                            template: template\n                        });\n                })\n        };\n    \n    // инициализация компонентов\n    initVue();\n    \n    // внутреннее событие перестройки DOM\n    BX.addCustomEvent('x.vue.loader:initVue' , initVue); //BX.onCustomEvent('x.vue.loader:initVue');\n    \n    // поддержка композита\n    if (window.frameCacheVars !== undefined) {\n        BX.addCustomEvent('onFrameDataReceived' , initVue);\n    }\n});\n"],"names":["BX","ready","initVue","node","console","log","document","querySelectorAll","forEach","elm","datasetAttrs","name","dataset","template","getAttribute","APP","config","debug","BitrixVue","createApp","el","addCustomEvent","window","frameCacheVars","undefined"],"mappings":";;;;IACAA,EAAE,CAACC,KAAH,CAAS,YAAU;IACf;IACA,MAAIC,OAAO,GAAG,SAAVA,OAAU,CAACC,IAAD,EAAU;IAChBC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,IAAvB;IAEAA,IAAAA,IAAI,GAAGA,IAAI,IAAIG,QAAf;IACAH,IAAAA,IAAI,CAACI,gBAAL,CAAsB,OAAtB,EAA+BC,OAA/B,CAAuC,UAACC,GAAD,EAAS;IAAA;;IACxC,UAAIC,YAAY,GAAG,EAAnB;;IACA,WAAK,IAAIC,IAAT,IAAiBF,GAAG,CAACG,OAArB,EAA8B;IAC1BF,QAAAA,YAAY,GAAGA,YAAY,GAAC,GAAb,GAAiBC,IAAjB,GAAsB,IAAtB,GAA2BF,GAAG,CAACG,OAAJ,CAAYD,IAAZ,CAA3B,GAA6C,GAA5D;IACH;;IACD,UAAIE,QAAQ,GAAG,MAAIJ,GAAG,CAACK,YAAJ,CAAiB,KAAjB,CAAJ,GAA4BJ,YAA5B,GAAyC,IAAxD;IAEA,UAAI,QAAOK,GAAP,qDAAOA,GAAP,MAAc,QAAd,IAA2B,SAAAA,GAAG,UAAH,mDAAKC,MAAL,4DAAaC,KAAb,IAAqB,CAApD,EAAwDb,OAAO,CAACC,GAAR,CAChD,oBADgD,EAEhDI,GAAG,CAACK,YAAJ,CAAiB,KAAjB,CAFgD,EAGhDL,GAAG,CAACG,OAH4C;IAMxDZ,MAAAA,EAAE,CAACkB,SAAH,CAAaC,SAAb,CAAuB;IACfC,QAAAA,EAAE,EAAEX,GADW;IAEfI,QAAAA,QAAQ,EAAEA;IAFK,OAAvB;IAIH,KAjBL;IAkBH,GAtBL,CAFe;;;IA2BfX,EAAAA,OAAO,GA3BQ;;IA8BfF,EAAAA,EAAE,CAACqB,cAAH,CAAkB,sBAAlB,EAA2CnB,OAA3C,EA9Be;IAgCf;;IACA,MAAIoB,MAAM,CAACC,cAAP,KAA0BC,SAA9B,EAAyC;IACrCxB,IAAAA,EAAE,CAACqB,cAAH,CAAkB,qBAAlB,EAA0CnB,OAA1C;IACH;IACJ,CApCD;;;;"}